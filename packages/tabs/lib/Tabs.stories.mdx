import { useState } from 'react'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks'
import { DesktopTabSibling, TabDivider, Tabs } from './tabs'
import { Card } from '../../card/lib/card'
import withDesignTokens from 'addons/tokens/index.js'

import { FlexContainer } from 'addons/blocks/blocks.js'
import packageJson from '../package.json'
import changelog from '../CHANGELOG.md'

<Meta
  component={Tabs}
  decorators={[withDesignTokens]}
  parameters={{ changelog }}
  title="COMPONENTS/Tabs"
/>

# Tabs
### Installation

`npm install @kyper/tabs --save`

<PeerDependencies json={packageJson} />

### Full Example
Includes use of the `Card` component and the `TabDivider` component.

<Canvas>
  <Story name="Tabs">
    {() => {
      const [selectedTab, setSelectedTab] = useState(0)
      return (
        <Card padding="none">
          <Tabs
            onTabSelect={index => setSelectedTab(index)}
            selectedTabIndex={selectedTab}
            tabs={[{text: 'Tab 0', label: 'Tab 0 label'}, {text: 'Tab 1', label: 'Tab 1 label'}]}
          />
          <TabDivider />
          <div style={{ padding: 24 }}>
            {selectedTab === 0 ? (
              <div>Hello Tab 0</div>
            ) : null}
            {selectedTab === 1 ? (
              <div>Hello Tab 1</div>
            ) : null}
          </div>
        </Card>
      )
    }}
  </Story>
</Canvas>

### Props
<ArgsTable of={Tabs} />

### Desktop With Sibling
Use the `DesktopTabSibling` component to maintain correct padding for custom inline siblings.

<Canvas>
  <Story name="Tabs Sibling">
    {() => {
      const [selectedTab, setSelectedTab] = useState(0)
      return (
        <Card padding="none">
          <div style={{ display: 'flex', justifyContent: 'space-between'}}>
            <Tabs
              onTabSelect={index => setSelectedTab(index)}
              selectedTabIndex={selectedTab}
              tabs={[{text: 'Tab 0', label: 'Tab 0 label'}, {text: 'Tab 1', label: 'Tab 1 label'}]}
            />
            <DesktopTabSibling>Custom Inline Content</DesktopTabSibling>
          </div>
          <TabDivider />
          <div style={{ padding: 24 }}>
            {selectedTab === 0 ? (
              <div>Hello Tab 0</div>
            ) : null}
            {selectedTab === 1 ? (
              <div>Hello Tab 1</div>
            ) : null}
          </div>
        </Card>
      )
    }}
  </Story>
</Canvas>


### Mobile
<Canvas>
  <Story name="Tabs Mobile">
    {() => {
      const [selectedTab, setSelectedTab] = useState(0)
      return (
        <Card padding="none">
          <Tabs
            isMobile={true}
            onTabSelect={index => setSelectedTab(index)}
            selectedTabIndex={selectedTab}
            tabs={[{text: 'Tab 0', label: 'Tab 0 label'}, {text: 'Tab 1', label: 'Tab 1 label'}]}
          />
          <TabDivider />
          <div style={{ padding: 24 }}>
            {selectedTab === 0 ? (
              <div>Hello Tab 0</div>
            ) : null}
            {selectedTab === 1 ? (
              <div>Hello Tab 1</div>
            ) : null}
          </div>
        </Card>
      )
    }}
  </Story>
</Canvas>



